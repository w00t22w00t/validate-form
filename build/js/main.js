addEventListener("DOMContentLoaded",(e=>{document.querySelectorAll(".dropdown").forEach((function(e){const t=e.querySelector(".dropdown__button"),n=t.querySelector("span"),o=e.querySelector(".dropdown__list"),r=o.querySelectorAll(".dropdown__list-item"),s=e.querySelector(".dropdown__input_hidden");var d=document.querySelector("#phone");t.addEventListener("click",(function(){o.classList.toggle("dropdown__list_visible"),t.classList.toggle("dropdown__button_active"),e.classList.add("selected")})),r.forEach((function(e){e.addEventListener("click",(function(e){r.forEach((function(e){e.classList.remove("dropdown__list-item_active")})),e.target.classList.add("dropdown__list-item_active"),n.innerText=this.innerText,s.value=this.dataset.value,o.classList.remove("dropdown__list_visible");const t=this.dataset.code.replace(/(\d{1})(\d{0,3})(\d{0,3})(\d{0,3})/,"$1 $2 $3 $4");d.value=t}))})),document.addEventListener("click",(function(r){r.target!==t&&(t.classList.remove("dropdown__button_active"),o.classList.remove("dropdown__list_visible"),""===n.innerText.trim()&&e.classList.remove("selected"))})),document.addEventListener("keydown",(function(e){"Tab"!==e.key&&"Escape"!==e.key||(t.classList.remove("dropdown__button_active"),o.classList.remove("dropdown__list_visible"))}))})),document.getElementById("form").addEventListener("submit",(function(e){(function(){const e=document.querySelector("#name"),t=document.querySelector("#second_name"),n=document.querySelector("#phone"),o=document.querySelectorAll(".registration__input-error"),r=document.querySelector("#password"),s=document.querySelector("#confirm_password"),d=document.querySelector("#email"),c=document.querySelector(".dropdown__button > span"),i=document.querySelector("#terms"),l=document.querySelector(".registration__input-checkbox"),a="The name must be more than 2 characters",u="Password must have 1 letter, 1 number and one symbol",m="Password does not match",_="Email is not correct",v="Fill in the field",p=new RegExp(/^(?=.*[a-zA-Z])(?=.*\d)(?=.*[!@#$%^&*()_+])/);let y=!0;e.value<=2?(o[0].textContent=a,y=!1):o[0].textContent="";t.value<=2?(o[1].textContent=a,y=!1):o[1].textContent="";""===c.textContent.trim()?o[2].textContent=v:o[2].textContent="";n.value.length<14?(o[3].textContent=v,y=!1):o[3].textContent="";""===r.value.trim()?o[4].textContent=v:p.test(r.value)?o[4].textContent="":(o[4].textContent=u,y=!1);""===s.value.trim()?o[5].textContent=v:r.value!==s.value?(o[5].textContent=m,y=!1):o[5].textContent="";""===d.value.trim()?o[6].textContent=v:!function(e){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)}(d.value)?(o[6].textContent=_,y=!1):o[6].textContent="";i.checked?l.classList.remove("error"):l.classList.add("error");return y})()||e.preventDefault()}));const t=document.querySelector("#phone");t.addEventListener("input",(function(e){let n=t.value.replace(/\D/g,"");n.startsWith("+")&&(n=n.substring(1)),n.length>10&&(n=n.substring(0,10));let o=n.replace(/(\d{1})(\d{0,3})(\d{0,3})(\d{0,3})/,"$1 $2 $3 $4");o="+"+o,"deleteContentBackward"!==e.inputType&&(t.value=o)}))}));